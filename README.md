# API de Restaurantes

### üõ†Ô∏è Tecnolog√≠as utilizadas:

- **FastAPI:** Escogido por su rapidez en el desarrollo y la autogeneraci√≥n de documentaci√≥n de la API.
- **PostgreSQL:** Elegido por su robustez en el procesamiento de datos.
- **Pandas:** Utilizado para la extracci√≥n r√°pida de informaci√≥n de archivos CSV.

En el modelo de datos, a√±ad√≠ un ID autoincremental como llave primaria para simplificar el CRUD. Sin embargo, si usas herramientas como DBeaver o la de tu preferencia, podr√°s identificar un UUID que proviene del CSV bajo el nombre "id_csv".

Debido a la limitaci√≥n de tiempo de la prueba, no utilic√© PostGIS. En su lugar, cre√© una funci√≥n propia para realizar ciertos c√°lculos. Aunque no es tan precisa como PostGIS, es funcional.

### üîß Pasos para probar la aplicaci√≥n:

1. **Clonar el repositorio y ejecutar el contenedor:**

```sh
git clone git@github.com:adcc662/restaurant.git
cd restaurant
docker-compose up --build
```

De este √∫ltimo solo hacer uso una vez y despu√©s usar solo `docker-compose up`.

2. **Visitar la documentaci√≥n:**
   Abre tu navegador e ingresa a localhost:8000/docs. Ver√°s la documentaci√≥n generada autom√°ticamente. Para cargar los datos del CSV a la base de datos, despliega el endpoint "extract" y haz clic en "Try it out" y luego en "execute". Una vez hecho esto, puedes probar el resto de los endpoints con la API.

**API en localhost:8000/docs**

![This is an image](/images/all_api.png)

**Try it out en la API**

![This is an image](/images/try_it_out_extract.png)

**Execute**

![This is an image](/images/execute_extract.png)

**Ejemplo de cuando queremos hacer un POST con todos los datos**

![This is an image](/images/data_collection.png)

**Datos para la API**

```sh
{
  "raiting": 4,
  "name": "La vaca Feliz",
  "site": "www.vacafeliz.mx",
  "email": "support@vacafeliz.com",
  "phone": "2224789123",
  "street": "Plutarco Elias Calles",
  "city": "Puebla",
  "state": "Puebla",
  "lat": 19.978451,
  "lng": -99.587424
}
```

Espero que la aplicaci√≥n sea de tu agrado. ¬°Saludos!

## English

### üõ†Ô∏è Technologies used:

- **FastAPI:** Chosen for its rapid development and autogenerated API documentation.
- **PostgreSQL:** Selected for its robust data processing.
- **Pandas:** Used for quick CSV data extraction..

In the data model, I added an auto-incremental ID as the primary key to simplify CRUD operations. However, if you use tools like DBeaver or any other of your preference, you can spot a UUID that comes from the CSV as "id_csv".

Due to the test's time constraints, I didn't use PostGIS. Instead, I crafted a custom function to handle specific calculations. Although not as accurate as PostGIS, it gets the job done.

### üîß Steps to test the application:

1. **Clonar el repositorio y ejecutar el contenedor:**

```sh
git clone git@github.com:adcc662/restaurant.git
cd restaurant
docker-compose up --build
```

From this point onward, only use `docker-compose up` once, then you can simply use `docker-compose up`.

2. **Visit the documentation:**
   Open your browser and navigate to localhost:8000/docs. You'll see the auto-generated documentation. To load the CSV data into the database, expand the "extract" endpoint and click "Try it out" followed by "execute". After this, you're free to test the rest of the API endpoints.

**API at localhost:8000/docs**

![This is an image](/images/all_api.png)

**Using 'Try it out' in the API**

![This is an image](/images/try_it_out_extract.png)

**Execute**

![This is an image](/images/execute_extract.png)

**Example of making a POST with all data fields**

![This is an image](/images/data_collection.png)

**Sample data**
You can use the following data structure. There's no need for Postman since you can interact directly with the API from SwaggerUI.

```sh
{
  "raiting": 4,
  "name": "La vaca Feliz",
  "site": "www.vacafeliz.mx",
  "email": "support@vacafeliz.com",
  "phone": "2224789123",
  "street": "Plutarco Elias Calles",
  "city": "Puebla",
  "state": "Puebla",
  "lat": 19.978451,
  "lng": -99.587424
}
```

Hope you enjoy the application!
